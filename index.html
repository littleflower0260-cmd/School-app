<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Little Flower School â€” Portal</title>
  <meta name="theme-color" content="#6b46c1"/>
  <link rel="stylesheet" href="css/style.css">
</head>
<body data-theme="dark">

<!-- HEADER -->
<header>
  <div class="brand">
    <div class="logo" id="logoBox" title="Editable by Admin">
      <svg width="36" height="36" viewBox="0 0 24 24">
        <circle cx="12" cy="7" r="4" fill="#f59e0b"></circle>
        <rect x="5" y="13" width="14" height="6" rx="3" fill="#2563eb"></rect>
      </svg>
    </div>
    <div>
      <h1 id="appTitle">Little Flower School</h1>
      <div class="sub muted small">Digital School â€” Portal for Students, Teachers & Admin</div>
    </div>
  </div>

  <div class="top-actions">
    <select id="themeSelect" title="Theme">
      <option value="dark">ðŸŒ™ Dark</option>
      <option value="light">â˜€ Light</option>
    </select>
    <button class="btn outline" id="btnHome">Home</button>
    <button class="btn accent" id="btnLoginNav">Login</button>
    <button class="btn ghost" id="btnMenu">â˜°</button>
  </div>
</header>

<div class="container">

  <!-- HOME SCREEN -->
  <section id="homeScreen" class="fade-in">
    <div class="card">
      <div class="flex">
        <div style="flex:1">
          <div class="muted small">Welcome</div>
          <h2 id="welcomeHeadline">Welcome to Little Flower School â€” Digital Portal</h2>
          <div class="muted small" style="margin-top:6px">Login to access your dashboard.</div>
          <div style="margin-top:12px" class="flex">
            <button class="btn accent" id="btnPrimaryLogin">Login</button>
            <button class="btn outline" id="btnOpenCalendarHome">Calendar</button>
          </div>
        </div>

        <div style="width:320px">
          <div class="card small">
            <div class="muted small">Upcoming</div>
            <div id="homeNextEvent" style="margin-top:8px">No upcoming events</div>
          </div>
          <div class="card small" style="margin-top:10px">
            <div class="muted small">Latest Notice</div>
            <div id="homeNoticePreview" style="margin-top:8px">No notices</div>
          </div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="section-title">
        <h3>Quick Modules</h3>
        <div class="right muted small">Tap any module</div>
      </div>
      <div style="height:12px"></div>
      <div class="modules" id="modulesGrid"></div>
    </div>
  </section>

  <!-- LOGIN SCREEN -->
  <section id="loginScreen" class="hidden">
    <div class="card">
      <div class="section-title"><h3>Login</h3><div class="muted small right">Use your ID & password</div></div>
      <div style="height:8px"></div>
      <div class="flex">
        <div style="flex:1">
          <label class="muted small">User ID</label>
          <input id="inputId" placeholder="e.g. admin or stu101"/>
        </div>
        <div style="width:220px">
          <label class="muted small">Password</label>
          <input id="inputPwd" type="password" placeholder="Password" />
        </div>
      </div>
      <div style="margin-top:10px" class="flex">
        <button class="btn accent" id="btnLogin">Login</button>
        <button class="btn outline" id="btnCancelLogin">Back</button>
        <button class="btn ghost right" id="btnForgot">Forgot Admin Password</button>
      </div>
    </div>
  </section>

  <!-- DASHBOARD -->
  <section id="dashScreen" class="hidden">
    <div class="card">
      <div class="flex">
        <div style="flex:1">
          <div class="muted small">Dashboard</div>
          <h2 id="dashTitle">â€”</h2>
          <div id="dashRole" class="muted small">â€”</div>
        </div>
        <div class="right">
          <div class="muted small">Signed in as</div>
          <div id="signedUser" style="font-weight:700">â€”</div>
          <div style="margin-top:8px" class="flex">
            <button class="btn outline" id="btnDashHome">Home</button>
            <button class="btn" id="btnLogout">Logout</button>
          </div>
        </div>
      </div>
    </div>

    <div id="dashModules"></div>
  </section>

</div>

<!-- Modal & Toast -->
<div id="modalRoot" class="hidden"></div>
<div id="toastRoot" style="position:fixed;left:50%;transform:translateX(-50%);bottom:20px;z-index:9999"></div>

<!-- Scripts -->
<script src="supabase.js"></script>
<script src="app.js"></script>
  <script scr="style.css"></script>
</body>
</html>
